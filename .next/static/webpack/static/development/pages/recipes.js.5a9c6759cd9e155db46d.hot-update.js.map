{"version":3,"file":"static/webpack/static/development/pages/recipes.js.5a9c6759cd9e155db46d.hot-update.js","sources":["webpack:///./pages/recipes.js"],"sourcesContent":["import {useRouter} from 'next/router';\nimport Layout from '../comps/Layout';\n\nconst RecipeIndex = () => {\n    const router = useRouter();\n\n    return(\n      <Layout>\n        <h1>{router.query.title}</h1>\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1>Recipes</h1>\n          </div>\n          <div className=\"col-lg-3\">\n            <div className=\"recipe-card\">\n              {/* <img className=\"img-fluid\" src={props.data.image} alt={props.data.title} />\n              <h2>{props.data.title}</h2> */}\n              <div className=\"recipe-card__meta\">\n                <ul>\n                  {/* <li>{props.data.readyInMinutes} min</li>\n                  <li>{props.data.servings} people</li> */}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n    </Layout>\n    )\n}\n\nRecipeIndex.getInitialProps = async function(context){\n  const {query} = context.query.q;\n  const queryPath = context.asPath;\n  //clean up queryPath to match better what the api expects\n  const replaceChar = {\n    \"%2C\": \",\",\n    \"%20\": \"+\"\n  }\n\n  function cleanPath(){\n    let cleanedPath = queryPath.replace(/%2C|%20/gi, function(matched){\n      return replaceChar[matched];\n    })\n  }\n\n  const cleanedPath = cleanPath();\n  \n  console.log(queryPath, cleanedPath);\n  //console.log(query, context.pathname, context.asPath, context.res); undefined, /recipes, /recipes?q=flour, undefined\n  const response = await fetch(`https://api.spoonacular.com/recipes/findByIngredients?ingredients=${query}&apiKey=${process.env.API_KEY}`);\n  const data = await response.json();\n\n  // console.log(transformQuery);\n\n  return {\n      recipes: data\n  };\n};\n\nexport default RecipeIndex;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AACA;AACA;AACA;AACA;AAFA;AAWA;AAEA;AACA;AAlBA;AAAA;AACA;AADA;AAmBA;AAnBA;AAAA;AACA;AADA;AAoBA;AApBA;AAyBA;AADA;AACA;AAzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AA4BA;;;;A","sourceRoot":""}