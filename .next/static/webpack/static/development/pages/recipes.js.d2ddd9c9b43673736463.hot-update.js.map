{"version":3,"file":"static/webpack/static/development/pages/recipes.js.d2ddd9c9b43673736463.hot-update.js","sources":["webpack:///./pages/recipes.js"],"sourcesContent":["import {useRouter} from 'next/router';\nimport Layout from '../comps/Layout';\n\nconst RecipeIndex = () => {\n    const router = useRouter();\n\n    return(\n      <Layout>\n        <h1>{router.query.title}</h1>\n        <div className=\"row\">\n          <div className=\"col\">\n            <h1>Recipes</h1>\n          </div>\n          <div className=\"col-lg-3\">\n            <div className=\"recipe-card\">\n              {/* <img className=\"img-fluid\" src={props.data.image} alt={props.data.title} />\n              <h2>{props.data.title}</h2> */}\n              <div className=\"recipe-card__meta\">\n                <ul>\n                  {/* <li>{props.data.readyInMinutes} min</li>\n                  <li>{props.data.servings} people</li> */}\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n    </Layout>\n    )\n}\n\nRecipeIndex.getInitialProps = async function(context){\n  const {query} = context.query.q.replace(\" \", \"+\");\n  const queryPath = context.asPath;\n  //clean up queryPath to match better what the api expects if using context.asPath\n  const replaceChar = {\n    \"%2C\": \",\",\n    \"%20\": \"+\"\n  }\n\n  const cleanedPath = queryPath.replace(/%2C|%20/gi, function(matched){\n    return replaceChar[matched];\n  });\n  \n\n  console.log(`${query}`, context.query.q, context.query, context.pathname, context.asPath, context.res);\n  const response = await fetch(`https://api.spoonacular.com/recipes/findByIngredients?ingredients=${query}&apiKey=${process.env.API_KEY}`);\n  const data = await response.json();\n\n  // console.log(transformQuery);\n\n  return {\n      recipes: data\n  };\n};\n\nexport default RecipeIndex;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAGA;AAdA;AAAA;AACA;AADA;AAeA;AAfA;AAAA;AACA;AADA;AAgBA;AAhBA;AAqBA;AADA;AACA;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwBA;;;;A","sourceRoot":""}